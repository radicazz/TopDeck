using UnityEngine;public class RuntimeCommandBridge:MonoBehaviour{ public Vector3 PlaceTowerPos; public bool PlaceTowerRequest; public bool UpgradeTowerRequest; public bool UpgradeDefenderRequest; void Update(){ if(UpgradeTowerRequest){ UpgradeTowerRequest=false; UpgradeSystem.Instance?.UpgradeTower(); } if(UpgradeDefenderRequest){ UpgradeDefenderRequest=false; UpgradeSystem.Instance?.UpgradeDefender(); } if(PlaceTowerRequest){ PlaceTowerRequest=false; var mgr = Object.FindAnyObjectByType<TowerManager>(); if(mgr==null){ var go=new GameObject("TowerManager"); mgr=go.AddComponent<TowerManager>(); } if(!mgr.TryPlaceTower(PlaceTowerPos)){ Debug.LogWarning("Tower place failed at "+PlaceTowerPos); } } } }